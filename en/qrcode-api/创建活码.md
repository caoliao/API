# Create Dynamic QR Code  

## API Description  
Create dynamic QR codes based on an existing template UID. Currently, 9 types of dynamic QR codes are supported: text, multiline text (textarea), number, date, single-choice (radio), multiple-choice (checkbox), location (address), image, and file.  

## API Endpoint  
`POST` `/api/v1/createSubCode`  

## Request Parameters  
Note: This API requires authentication. Include the `Authorization` parameter in the request header.  

| Parameter Name | Description | Required | Data Type |
|---------------|------------|----------|-----------|
| `templateUid` | Template ID | true | integer |
| `data` | Sub-code data | true | array |
| &emsp;&emsp;`fieldId` | Component ID (retrieved from template) | true | integer |
| &emsp;&emsp;`type` | Component type (supports the 9 types listed in the API description) | true | string |
| &emsp;&emsp;`text` | Used for text components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`value` | Text value | false | string |
| &emsp;&emsp;`multilineText` | Used for multiline text components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`value` | Multiline text value | false | string |
| &emsp;&emsp;`number` | Used for number components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`value` | Numeric value | false | string |
| &emsp;&emsp;`date` | Used for date components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`value` | Date value | false | string |
| &emsp;&emsp;`radio` | Used for single-choice components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`optionId` | Option ID | false | integer |
| &emsp;&emsp;&emsp;&emsp;`otherValue` | Custom input when "Other" option is selected | false | string |
| &emsp;&emsp;`checkbox` | Used for multiple-choice components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`optionCreateDataList` | Selected options | false | array |
| &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;`optionId` | Option ID | false | integer |
| &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;`otherValue` | Custom input when "Other" option is selected | false | string |
| &emsp;&emsp;`location` | Used for location components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`address` | Address | false | string |
| &emsp;&emsp;&emsp;&emsp;`lat` | Latitude | false | Double |
| &emsp;&emsp;&emsp;&emsp;`log` | Longitude | false | Double |
| &emsp;&emsp;`image` | Used for image components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`images` | Image list | false | array |
| &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;`url` | Image URL | false | string |
| &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;`name` | Image name | false | string |
| &emsp;&emsp;`file` | Used for file components | false | Object |
| &emsp;&emsp;&emsp;&emsp;`files` | File list | false | array |
| &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;`url` | File URL | false | string |
| &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;`name` | File name | false | string |

## Request Example  
```json
{
    "templateUid": "30728",
    "data": [
        {
            "fieldId": "163185",
            "type": "text",
            "text": {
                "value": "openapi test 1211"
            }
        },
        {
            "fieldId": "163188",
            "type": "textarea",
            "multilineText": {
                "value": "openapi test 1211\nopenapi test 1211"
            }
        },
        {
            "fieldId": "163189",
            "type": "number",
            "number": {
                "value": "20241211"
            }
        },
        {
            "fieldId": "163190",
            "type": "date",
            "date": {
                "value": "2024-12-11"
            }
        },
        {
            "fieldId": "163191",
            "type": "radio",
            "radio": {
                "optionId": 5074778
            }
        },
        {
            "fieldId": "163192",
            "type": "checkbox",
            "checkbox": {
                "optionCreateDataList": [
                    {
                        "optionId": 1317744
                    },
                    {
                        "optionId": 5074779,
                        "otherValue": "openapi test 1227"
                    }
                ]
            }
        },
        {
            "fieldId": "163194",
            "type": "image",
            "image": {
                "images": [
                    {
                        "url": "https://ncstatic.clewm.net/rsrc/2024/1220/11/aa41c8b612eafeac06ed90ae0ce53092.png"
                    }
                ]
            }
        },
        {
            "fieldId": "163195",
            "type": "file",
            "file": {
                "files": [
                    {
                        "url": "https://ncstatic.clewm.net/rsrc/2024/1220/11/aa41c8b612eafeac06ed90ae0ce53092.png",
                        "name": "WeCom_screenshot_fa4224c9-0cbf-4476-ad81-929f321db2dd.png"
                    }
                ]
            }
        }
    ]
}
```

## Response Parameters  
| Parameter Name | Description | Data Type |
|---------------|------------|-----------|
| `data` | Response data | Object |
| &emsp;&emsp;`codeUid` | Sub-code UID | string |
| &emsp;&emsp;`qrcodeUrl` | Sub-code URL | string |
| `code` | Response status code | integer |
| `message` | Response status message | string |

## Response Example  
```json
{
    "data": {
        "codeUid": "15IqxPvKUq",
        "qrcodeUrl": "https://qr46.cn/o6leQy/q6KBrqy"
    },
    "code": 0,
    "message": "ok"
}
```

## Error Codes  
| Status Code | Message | Description |
|------------|---------|-------------|
| 0 | Request successful | Dynamic QR code created successfully |
| 403 | Authentication failed! Missing `Authorization` parameter | Authentication required |
| 400 | Invalid request data format | Incorrect request parameters |
| 500 | Unknown error | Unknown error, contact developer |
| 1002 | Sub-code creation error | Invalid dynamic QR code data |