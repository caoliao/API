# 数据API功能

草料提供3种数据对接方式，可以将草料平台的数据自动推送给你，实现数据分析、制作可视化报表、对接其他系统等。目前暂不支持将外部系统的数据写入草料。

| 推送方式 | 功能说明 | 推送内容 |
|---------|---------|---------|
| [Webhook](/data-api/webhook) | 将表单数据以JSON格式推送到你指定的URL | 新提交表单数据、修改表单数据、表单审核结果通知、标记处理进度。*暂不支持其他数据推送 |
| [官方数据库](/data-api/db) | 每个用户账号都有独立的云数据库，开通后数据库会同步草料账号后台的数据 | 提供了码的基本信息、表单数据、批量子码、码的状态、计划完成情况等数据表 |
| [自有数据库](/data-api/own-db) | 将数据实时推送至你的企业数据库内（仅支持Mysql 5.7版） | 同官方数据库，提供了码的基本信息、表单数据、批量子码、码的状态、计划完成情况等数据表 |

## 应用场景

### 1. 表单数据直接推送到企业微信、钉钉、飞书群聊

在草料制作的表单中，填表人扫码填写并提交数据后，这些信息可以立即通过**企业微信**、**钉钉**或**飞书**自动推送到相应的群聊中，实现即时共享和沟通，提升团队协作效率。[了解详情](https://cli.im/help/95443)

![企业微信推送示例](https://blogcdnimg.clewm.net/2024/11/image-1732011308466_17320113044640.png?x-oss-process=image/auto-orient,1/quality,q_50/format,jpg)

### 2. 表单数据对接腾讯文档

可将草料的数据实时同步到腾讯文档的智能表格中，开通后将表单历史数据同步推送，后续提交的记录实时同步到腾讯文档，也可搭建数据看板，实现即时共享数据。[了解详情](https://cli.im/help/96049)

![腾讯文档对接示例](https://blogcdnimg.clewm.net/2024/11/image-1732011450859_17320114467609.png?x-oss-process=image/auto-orient,1/quality,q_50/format,jpg)

### 3. 连接bi数据分析工具，制作实时数据报表

开启【官方数据库】功能，用数据分析工具连接官草料官方数据库，进行数据分析或报表制作。[查看效果与制作教程](./data-api/BI/api-with-sugar.md)

### 4. 与企业流程对接

将扫码收集数据等功能在草料平台实现，再通过API与企业系统的流程进行对接，企业即可在保留原有系统的前提下，以极低的成本应用草料功能。

![企业流程对接示例](//blogcdnimg.clewm.net/2022/02/image-1644546273607_16445462739484.png?x-oss-process=image/auto-orient,1/quality,q_50/format,jpg)

## 数据推送方式

可任选推送方式免费开通，**行业专属版不限数据推送条数，旗舰版限20000条/月，免费版和其他付费版限1000条/月**。

### 1. Webhook方式

草料将表单数据以JSON格式推送到你指定的URL，这个地址需要**允许公网访问**。后续你可以编写程序，用接收到的数据对接其他系统或流程。[查看Webhook说明](./data-api/webhook.md)

#### 推送内容：

新提交表单数据、修改表单数据、表单审核结果通知、标记处理进度。

目前暂不支持其他数据推送。

#### 使用方法：

草料后台找到【高级功能】-【数据API】，选择【Webhook】进行开通，填入接收数据的URL地址，选择需要推送的表单并保存。开通后，新产生的数据会进行推送。

![Webhook设置示例](https://blogcdnimg.clewm.net/2024/04/image-1714358243570_17143582444156.png?x-oss-process=image/auto-orient,1/quality,q_50/format,jpg)

### 2. 官方数据库

草料给每个用户提供了**独立的云数据库**，开通后同步你后台的数据。后续可以用数据分析软件连接这个云数据库，制作数据报表；或写程序主动调用数据，对接其他系统。

#### 推送内容：

提供了码的基本信息、表单数据、批量子码、码的状态、计划完成情况等数据表，[查看数据库字段说明](./data-api/db.md)

#### 使用方法：

草料后台导航栏【数据管理】>【数据API】，选择【官方数据库】。填写申请信息后，会自动开通该功能，并推送数据。`首次推送需要1~3小时，具体看你后台已有的数据量`。

![官方数据库设置示例](https://blogcdnimg.clewm.net/2024/05/image-1714888248608_17148882422787.png?x-oss-process=image/auto-orient,1/quality,q_50/format,jpg)

#### 报表制作：

如果你需要连接官方数据库，制作自定义报表，可以[查看报表制作教程](./data-api/BI/api-with-sugar.md)

由于涉及了基础的数据库（SQL）操作与BI工具操作，具有一定的使用门槛，使用前请掌握基础的操作能力。

### 3. 自有数据库

草料实时将数据推送至你提供的企业数据库（仅支持Mysql 5.7版），**无需建表**、**需开放公网访问权限**。后续你可以自由读取数据，实现企业数据信息整合。

#### 推送内容：

同样提供了码的基本信息、表单数据、批量子码、码的状态、计划完成情况等数据表，[查看数据库字段说明](./data-api/own-db.md)

#### 使用方法：

草料后台导航栏【数据管理】>【数据API】，选择【自有数据库】，填入你的数据库主机、端口、账号等信息。

![自有数据库设置示例](https://blogcdnimg.clewm.net/2024/05/image-1714888414386_17148884080284.png?x-oss-process=image/auto-orient,1/quality,q_50/format,jpg)

### 4. 群机器人

表单数据填写并提交后，这些信息可以立即通过**企业微信**、**钉钉**或**飞书**自动推送到相应的群聊中，实现即时共享和沟通，提升团队协作效率。[查看设置教程](https://cli.im/help/95443)

### 5. 同步到腾讯文档

表单数据可实时同步到腾讯文档的智能表格中。开通后，会自动在绑定的腾讯文档账号下创建一个智能表格，且将表单历史数据同步推送，后续提交的记录实时同步到腾讯文档，实现即时共享数据。[查看设置教程](https://cli.im/help/96049)

## 数据推送条数的版本区别

不同的版本每月推送账号下的动态数据条数不同：

- 免费版、基础版、高级版：每月推送**前1000**条动态数据
- 旗舰版：每月推送**前20,000**条动态数据
- 行业专属版：每月推送条数**不限**

[了解数据API推送条数规则](https://cli.im/help/84383)

## 学习交流

更多数据报表、数据API等问题，可以[前往草料社区](https://cli.im/community/minihome/question/104)与数据报表大牛互助交流，草料官方顾问和技术也会定期查看并回复